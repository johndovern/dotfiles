" General Settings
set update.lastchecktime 1646930445391
set configversion 2.0
" Theme
set theme quake

" Rebind basics
bind d scrollline 10
bind e hint -b
bind h tabprev
bind j scrollpage 0.5
bind J scrollpx 10
bind k scrollpage -0.5
bind K scrollpx -10
bind l tabnext
bind m tabmove
bind n findnext 1
bind N findnext -1
bind scp source
bind S fillcmdline open search
bind u scrollline -10
bind x tabclose
bind , repeat
bind / fillcmdline find

" Unbound keys
unbind s
unbind .
unbind <C-b>

" Unbound urls
unbindurl 4chan --mode=normal n
unbindurl 4chan --mode=normal m
unbindurl 4chan --mode=normal q
unbindurl 4chan --mode=normal c
unbindurl 4chan --mode=normal t
unbindurl 4chan --mode=normal w

" Costom binds
" Gallery-dl
bind .gh hint -W gal_dl
bind .gn composite url2args | gal_dl

" MPV
bind .mh hint -W mpv_open
bind .mn composite url2args | mpv_open
bind .mps hint -W mpv_playlist
bind .mf hint -W mpv_float

" UMPV
bind .uh hint -W umpv_open
bind .un composite url2args | umpv_open
bind .ur hint -qW umpv_open

" YT-DLP
bind .dyoh hint -W yt_options
bind .dyon composite url2args | yt_options

" WSG
bind .wh hint -W wsg_mpv
bind .wn composite url2args | wsg_mpv

" Custom commands
" Gallery-dl
command gal_dl js -p tri.excmds.shellescape(JS_ARG).then(url => tri.excmds.exclaim_quiet('/usr/bin/gallery-dl -f "/O" -d "$HOME/gallery-dl" ' + url))

" MPV
command mpv_open js -p tri.excmds.shellescape(JS_ARG).then(url => tri.excmds.exclaim_quiet('mpv --no-terminal --loop-playlist=no --keep-open=no ' + url))
command mpv_playlist js -p tri.excmds.shellescape(JS_ARG).then(url => tri.excmds.exclaim_quiet('mpv  --force-window=no --no-video --shuffle --no-terminal --loop-playlist=no --keep-open=no ' + url))
command mpv_float js -p tri.excmds.shellescape(JS_ARG).then(url => tri.excmds.exclaim_quiet('mpv --x11-name=fmpv --loop-playlist=no --keep-open=no ' + url))
command wsg_mpv js -p tri.excmds.shellescape(JS_ARG).then(url => tri.excmds.exclaim_quiet('wsg2mpv ' + url))

" UMPV
command umpv_open js -p tri.excmds.shellescape(JS_ARG).then(url => tri.excmds.exclaim_quiet('umpv ' + url))

" YT-DLP
command yt_options js -p tri.excmds.shellescape(JS_ARG).then(url => tri.excmds.exclaim_quiet('yt-options ' + url))
